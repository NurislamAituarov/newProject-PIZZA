{"version":3,"sources":["components/svg/Close.jsx","components/cart/CartItems.jsx","components/svg/DeletedCart.jsx","components/svg/BackToHome.jsx","components/cart/Cart.jsx"],"names":["Close","fill","xmlns","viewBox","width","height","d","CartItems","memo","item","countTotal","dispatch","useDispatch","cartItem","useRef","hr","useEffect","current","addEventListener","style","backgroundColor","totalCount","id","ref","className","src","url","alt","name","type","size","length","display","onClick","countRemove","countAdd","price","deletedBasketItem","DeletedCart","stroke","strokeWidth","strokeLinecap","strokeLinejoin","BackToHome","Cart","pizzaItem","useSelector","state","totalPrices","filterPizzaId","count","statePizzaItems","Object","values","map","obj","forEach","i","tips","Helmet","content","deletedBasket","TransitionGroup","components","undefined","CSSTransition","timeout","classNames","exact","to","div","document","createElement","querySelector","appendChild","classList","add","innerHTML","fetch","method","headers","body","JSON","stringify","then","response","json","data","getElementById","console","log","setTimeout","remove","finally"],"mappings":"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","file":"static/js/3.08777a2d.chunk.js","sourcesContent":["import s from './SVG.scss';\n\nexport default function Close() {\n  return (\n    <svg\n      fill=\"#000000\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 50 50\"\n      width=\"20px\"\n      height=\"20px\">\n      <path d=\"M 9.15625 6.3125 L 6.3125 9.15625 L 22.15625 25 L 6.21875 40.96875 L 9.03125 43.78125 L 25 27.84375 L 40.9375 43.78125 L 43.78125 40.9375 L 27.84375 25 L 43.6875 9.15625 L 40.84375 6.3125 L 25 22.15625 Z\" />\n    </svg>\n  );\n}\n","import { memo, useEffect, useRef } from 'react';\nimport './cartItems.scss';\nimport { useDispatch } from 'react-redux';\nimport { deletedBasketItem, countAdd, countRemove } from '../../action/action';\nimport Close from '../svg/Close';\n\nconst CartItems = memo(({ item, countTotal }) => {\n  const dispatch = useDispatch();\n  const cartItem = useRef();\n  const hr = useRef();\n\n  useEffect(() => {\n    cartItem.current.addEventListener('mouseover', () => {\n      hr.current.style.backgroundColor = '#e2b00b';\n    });\n    cartItem.current.addEventListener('mouseout', () => {\n      hr.current.style.backgroundColor = 'rgba(202, 202, 202, 0.5)';\n    });\n  }, []);\n\n  const totalCount = countTotal[item.id];\n\n  function totalCountAdd(id) {\n    dispatch(countAdd(id));\n  }\n  function totalCountRemove(id) {\n    dispatch(countRemove(id));\n  }\n\n  return (\n    <>\n      <div ref={cartItem} className=\"cart__item\">\n        <div className=\"first\">\n          <div className=\"cart__item-img\">\n            <img className=\"pizza-block__image\" src={item.url} alt=\"Pizza\" />\n          </div>\n          <div className=\"cart__item-info\">\n            <h3>{item.name}</h3>\n            <p>\n              {item.type}, {item.size} см.\n            </p>\n          </div>\n        </div>\n        <div className=\"second\">\n          <div className=\"cart__item-count\">\n            <strong\n              style={totalCount.length === 1 ? { display: 'none' } : null}\n              onClick={() => totalCountRemove(item.id)}>\n              -\n            </strong>\n            <b>{totalCount.length}</b>\n            <strong onClick={() => totalCountAdd(item.id)}>+</strong>\n          </div>\n          <div className=\"cart__item-price\">\n            <b>{item.price * totalCount.length} ₽</b>\n          </div>\n          <div className=\"cart__item-remove\">\n            <span onClick={() => dispatch(deletedBasketItem(item.id))}>\n              <Close />\n            </span>\n          </div>\n        </div>\n      </div>\n      <hr ref={hr}></hr>\n    </>\n  );\n});\n\nexport default CartItems;\n","export default function DeletedCart() {\n  return (\n    <svg width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M2.5 5H4.16667H17.5\"\n        stroke=\"#B6B6B6\"\n        strokeWidth=\"1.2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M6.66663 5.00001V3.33334C6.66663 2.89131 6.84222 2.46739 7.15478 2.15483C7.46734 1.84227 7.89127 1.66667 8.33329 1.66667H11.6666C12.1087 1.66667 12.5326 1.84227 12.8451 2.15483C13.1577 2.46739 13.3333 2.89131 13.3333 3.33334V5.00001M15.8333 5.00001V16.6667C15.8333 17.1087 15.6577 17.5326 15.3451 17.8452C15.0326 18.1577 14.6087 18.3333 14.1666 18.3333H5.83329C5.39127 18.3333 4.96734 18.1577 4.65478 17.8452C4.34222 17.5326 4.16663 17.1087 4.16663 16.6667V5.00001H15.8333Z\"\n        stroke=\"#B6B6B6\"\n        strokeWidth=\"1.2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M8.33337 9.16667V14.1667\"\n        stroke=\"#B6B6B6\"\n        strokeWidth=\"1.2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M11.6666 9.16667V14.1667\"\n        stroke=\"#B6B6B6\"\n        strokeWidth=\"1.2\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","export default function BackToHome() {\n  return (\n    <svg width=\"8\" height=\"14\" viewBox=\"0 0 8 14\" fill=\"#D3D3D3\" xmlns=\"http://www.w3.org/2000/svg\">\n      <path\n        d=\"M7 13L1 6.93015L6.86175 1\"\n        // stroke=\"#D3D3D3\"\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  );\n}\n","import { NavLink } from 'react-router-dom';\nimport CartItems from './CartItems';\nimport './cart.scss';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { deletedBasket } from '../../action/action';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { Helmet } from 'react-helmet';\nimport DeletedCart from '../svg/DeletedCart';\nimport BackToHome from '../svg/BackToHome';\n\nconst Cart = () => {\n  const pizzaItem = useSelector((state) => state.totalCount);\n  const price = useSelector((state) => state.totalPrices);\n  const dispatch = useDispatch();\n  const state = useSelector((state) => state.filterPizzaId);\n  const totalCount = useSelector((state) => state.count);\n\n  const statePizzaItems = Object.values(state).map((item) => {\n    return item[0];\n  });\n\n  const obj = {};\n  pizzaItem.forEach((item, i) => {\n    obj.name = obj.name ? obj.name + ', ' + item.name : item.name;\n    obj.price = obj.price ? +obj.price + +item.price : item.price;\n    obj.type = obj.type ? obj.type + ', ' + item.type : item.type;\n    obj.tips = (obj.price * 5) / 100;\n    // obj.size = item.size;\n  });\n\n  function onSubmit() {\n    const div = document.createElement('div');\n    document.querySelector('.cart__bottom').appendChild(div);\n    div.classList.add('added-words');\n    div.innerHTML = 'оплата обрабатывается';\n\n    fetch('https://jsonplaceholder.typicode.com/posts', {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(obj),\n    })\n      .then((response) => {\n        div.innerHTML = 'оплата прошла успешно';\n        return response.json();\n      })\n      .then((data) => {\n        const div = document.createElement('div');\n        div.innerHTML = `чаевые ${data.tips} ₽`;\n        document.getElementById('price-num').appendChild(div);\n        console.log(data);\n        setTimeout(() => {\n          div.remove();\n        }, 5000);\n      })\n      .finally(() => {\n        setTimeout(() => {\n          dispatch(deletedBasket());\n          div.remove();\n        }, 2000);\n      });\n  }\n\n  return (\n    <>\n      <Helmet>\n        <meta name=\"description\" content=\"Web site created using create-react-app\" />\n        <title>basket of pizzas in react</title>\n      </Helmet>\n      <div className=\"content\">\n        <div className=\"container container--cart\">\n          <div className=\"cart\">\n            <div className=\"cart__top\">\n              <h2 className=\"content__title\">Корзина</h2>\n              <div onClick={() => dispatch(deletedBasket())} className=\"cart__clear\">\n                <DeletedCart />\n                <span>Очистить корзину</span>\n              </div>\n            </div>\n            <TransitionGroup components=\"div\" className=\"content__items__cart\">\n              {statePizzaItems.map((item) => {\n                if (item !== undefined) {\n                  return (\n                    <CSSTransition key={item.id} timeout={500} classNames=\"cart-node\">\n                      <CartItems key={item.id} item={item} countTotal={state} />\n                    </CSSTransition>\n                  );\n                } else {\n                  return null;\n                }\n              })}\n            </TransitionGroup>\n            <div className=\"cart__bottom\">\n              <div className=\"cart__bottom-details\">\n                <span>\n                  {' '}\n                  Всего пицц: <b>{totalCount} шт.</b>{' '}\n                </span>\n                <span id=\"price-num\">\n                  {' '}\n                  Сумма заказа: <b>{price} ₽</b>{' '}\n                </span>\n              </div>\n              <div className=\"cart__bottom-buttons\">\n                <NavLink\n                  exact\n                  to=\"/newProject-PIZZA\"\n                  className=\"button button--outline button--add go-back-btn\">\n                  <BackToHome />\n                  <span>Вернуться назад</span>\n                </NavLink>\n                <div onClick={onSubmit} className=\"button pay-btn\">\n                  <span>Оплатить сейчас</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\nexport default Cart;\n"],"sourceRoot":""}